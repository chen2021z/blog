name: build # å·¥ä½œæµname
on: # è§¦å‘ workflow çš„æ¡ä»¶
  push:
    branches:
      - main
jobs: # workflow æ–‡ä»¶çš„ä¸»ä½“ï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡
  build-and-deploy: # ä»»åŠ¡id
    name: build-and-deploy # ä»»åŠ¡name
    runs-on: ubuntu-latest # æŒ‡å®šè¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒ ubuntuã€windowsã€macOSã€‚
    steps: # æŒ‡å®šæ¯ä¸ª Job çš„è¿è¡Œæ­¥éª¤ï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ã€‚ å¯ä»¥æ˜¯æ‰§è¡ŒæŸä¸€ä¸ªrun å‘½ä»¤ï¼Œæˆ–è€…ä¸€ä¸ªaction
      - uses: actions/checkout@v3 # æ‹‰å– github ä»“åº“ä»£ç ï¼ˆactionï¼‰

      - name: Install and Build ğŸ”§ # è¯¥æ­¥éª¤çš„åç§°
        run: | # è¯¥æ­¥éª¤è¿è¡Œçš„å‘½ä»¤æˆ–è€… action
          npm i
          npm run build

      - name: Deploy
        uses: JamesIves/github-pages-deploy-action@releases/v3
        with:
          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }} # æŒ‡å®šå¯†é’¥
          BRANCH: page # æŒ‡å®šæ¨é€åˆ°çš„è¿œç¨‹åˆ†æ”¯
          FOLDER: .vuepress/dist # æŒ‡å®šæ„å»ºä¹‹åçš„äº§ç‰©è¦æ¨é€å“ªä¸ªç›®å½•çš„ä»£ç 